# MovieFlix

### Περιεχόμενα

- [Τι είναι το MovieFlix?](https://github.com/adreaskar/MovieFlix2020_E17067_Karabetian_Andreas#%CF%84%CE%AF-%CE%AD%CE%B9%CE%BD%CE%B1%CE%B9-%CF%84%CE%BF-movieflix)
- [Πώς λειτουργεί](https://github.com/adreaskar/MovieFlix2020_E17067_Karabetian_Andreas#%CE%BB%CE%B5%CE%B9%CF%84%CE%BF%CF%85%CF%81%CE%B3%CE%AF%CE%B5%CF%82)
- [Πώς μπορώ να το χρησιμοποιήσω?](https://github.com/adreaskar/MovieFlix2020_E17067_Karabetian_Andreas#%CF%80%CF%8E%CF%82-%CE%BC%CF%80%CE%BF%CF%81%CF%8E-%CE%BD%CE%B1-%CF%84%CE%BF-%CF%87%CF%81%CE%B7%CF%83%CE%B9%CE%BC%CE%BF%CF%80%CE%BF%CE%B9%CE%AE%CF%83%CF%89)

## Τι έιναι το MovieFlix
Είναι ένα Web Service, μία βάση δεδομένων που αποθηκεύονται οι εγγεγραμμένοι χρήστες αλλά και πληροφορίες για ταινίες.

:movie_camera: Αυτές να είναι:

- Τίτλος
- Έτος κυκλοφορίας
- Πλοκή
- Ηθοποιοί 
- Κριτική
- Σχόλια χρηστών

:bust_in_silhouette: Ο εγγεγραμμένος χρήστης έχει ένα φάσμα ενεργειών που μπορεί να πραγματοποιήσει:

- Αναζήτηση μιας ταινίας και εμφάνιση των πληροφοριών της.
- Βαθμολόγηση και σχολιασμός στην σελίδα μιας ταινίας.
- Προβολή όλων των σχολίων και βαθμολογιών που έχει κάνει καθώς και διαγραφή αυτών.
- Διαγραφή του λογαριασμού του.

Παρέχεται στους χρήστες προστασία των δεδομένων τους με κρυπτογράφηση του κωδικού του κάθε λογαριασμού.

:tophat: Επιίσης υπάρχει δυνατότητα σύνδεσης ενός διαχειριστή στο σύστημα, ο οποίος μπορεί να κάνει επιπλέον τις παρακάτω ενέργειες:

- Εισαγωγή νέας ταινίας στην βάση
- Διαγραφή ταινίας απο την βάση
- Ενημέρωση πληροφοριών ταινίας 
- Διαγραφή κάποιου χρήστη ή σχολίων άλλων χρηστών
- Αλλαγή κατηγορίας ενός απλού χρήστη σε διαχειριστή

## Λειτουργίες

Το περιβάλλον της εφαρμογής είναι αρκετά απλό και βασίζεται σε navigation μέσω βοηθητικών κουμπιών και όχι κάποιου μενού (ίσως υπάρξει σε επόμενο version).

:bust_in_silhouette: Ενέργειες `ΑΠΛΟΥ ΧΡΗΣΤΗ`:

Στην αρχική σελίδα ο χρήστης συναντά την φόρμα εγγραφής στο σύστημα. Εδώ καλείται να δημιουργήσει έναν λογαριασμό για να μπορέσει να χρησιμοποιήσει την εφαρμογή, αλλιώς εάν ήδη έχει μπορεί να κάνει Log In πατώντας την αντίστοιχη ένδειξη.

![homepage](https://github.com/adreaskar/images/blob/master/home1.jpg?raw=true)

Μετά την επιτυχή εγγραφή του χρήστη ακολουθεί η ενέργεια της εισόδου στο σύστημα με τα στοιχέια που απαιτούνται, τα οποία συμπλήρωσε και κατα την διάρκεια της εγγραφής.

![login](https://github.com/adreaskar/images/blob/master/login1.jpg?raw=true)

Πλέον ο χρήστης βρίσκεται στην σελίδα του προσωπικού του προφίλ. Εδώ μπορεί να περιηγηθεί στις λειτουργίες της εφαρμογής μέσω των αντίστοιχων κουμπιών. Παρουσιάζονται 5 επιλογές σε αυτήν την σελίδα:

1) **Logout:** Αποσυνδέει τον χρήστη οδηγώντας τον στην σελίδα της εγγραφής.
2) **Search for a movie:** Οδηγεί τον χρήστη στην σελίδα για αναζήτηση μιας ταινίας.
3) **Your comments:** Οδηγεί σε σελίδα που εμφανίζονται όλα τα σχόλια που έχει κάνει στην πλατφόρμα.
4) **Your ratings:** Παρόμοια με τα σχόλια φαίνονται οι κριτικές που έχει αναρτήσει.
5) **Delete your account:** ***Προσοχή***:heavy_exclamation_mark: Με αυτήν την επιλογή διαγράφεται ο λογαριασμός του χρήστη ***χωρίς*** κάποια δεύτερη προειδοποίηση.

![user_profile](https://github.com/adreaskar/images/blob/master/user1.jpg?raw=true)

Για να δούμε πιο αναλυτικά τις επιλογές 2 έως 4.

:mag: **Search for a movie:**

Εδώ υπάρχουν 3 επιλογές για την αναζήτηση μιας ταινίας.

- Είτε γράφοντας τον τίτλο, οπου θα παροτρύνει τον χρήστη να επιλέξει μία απο όλες τις ταινίες που έχουν την λέξη που πληκτρολόγησε στον τίτλο τους.
- Είτε γράφοντας την ημερομηνία κυκλοφορίας, και δώ αντίστοιχα εμφανίζονται όλες οι ταινίες που κυκλοφόρησαν την χρονιά που έδωσε ο χρήστης και μπορεί να επιλέξει όποια θέλει.
- Είτε τέλος με το όνομα ενός ηθοποιού, εδώ εμφανίζονται όλες οι ταινίες που έπαιξε αυτός ο ηθοποιός και ο χρήστης επιλέγει εκείνη για την οποία επιθυμεί να δεί παραπάνω πληροφορίες.

![movie_search](https://github.com/adreaskar/images/blob/master/search1.jpg?raw=true)

Αφού λοιπόν επιλέξει την ταινία που επιθυμεί, οδηγείται στην σελίδα της ταινίας όπου προβάλονται όλες οι πληροφορίες της. Οι επιλογές που έχει εδώ ο χρήστης είναι να αφήσει κάποιο σχόλιο ή βαθμολογία στην ταινία, να ψάξεια για κάποια άλλη ταινία (που τον οδηγεί στην σελίδα της αναζήτησης) ή να επιστρέψει στο προφίλ του.

![movie_details](https://github.com/adreaskar/images/blob/master/details1.jpg?raw=true)

Ας δούμε την επιλογή Comment /Rate. Σε αυτήν την σελίδα υπάρχουν 2 πεδία τα οποία οδηγούν τον χρήστη να αφήσει ένα σχόλιο ή μια βαθμολογία (από 0 έχως 10). Ύστερα όταν ψάξει ξανά αυτήν την ταινία, το σχόλιο του θα εμφανίζεται στις λεπτομέρεις μαζί με το e-mail του, καθώς επίσης θα έχει προσμετρηθεί η βαθμολογία του στην βαθμολογία της ταινίας.

![comment_rate](https://github.com/adreaskar/images/blob/master/comment_rate1.jpg?raw=true)

:speech_balloon: **Your comments:**

Με αυτήν την επιλογή εμφανίζονται τα σχόλια που έχει κάνει ο χρήστης και σε ποιά ταινία. Μπορεί να διαγράψει κάποιο απο αυτά διαλέγοντάς το απο το dropdown menu στην επιλογή **Delete a comment**

![user_comments](https://github.com/adreaskar/images/blob/master/comment_deleted1.jpg?raw=true)

:+1: **Your ratings:**

Παρόμοια με τα σχόλια εμφανίζονται οι βαθμολογίες του χρήστη και σε ποιά ταινία και υπάρχει η επιλογή για διαγραφή.

![user_ratings](https://github.com/adreaskar/images/blob/master/rating_deleted1.jpg?raw=true)


:tophat: Ενέργειες `ΔΙΑΧΕΙΡΙΣΤΗ`:

Όπως προαναφέραμε υπάρχει δυνατότητα εισόδου στο σύστημα ως διαχειριστής. By default υπάρχει ένας λογαριασμός διαχειριστή στο σύστημα απο την αρχή και μπορεί να διαγραφεί μόνο εαν ο ίδιος το επιθυμεί. Για είσοδο στο σύστημα με αυτόν τον λογαριασμό, βάζσουμε στην σελίδα **Login** τα παρακάτω στοιχεία:

- email:    admin@admin.com
- password: admin

Μετά το Login βρισκόμαστε στην σελίδα του διαχειριστή.

![admin_profile](https://github.com/adreaskar/images/blob/master/admin1.jpg?raw=true)

Βλέπουμε οτι είναι αρκετά όμοια με την σελίδα του απλού χρήστη. Υπάρχουν όλες οι διαθέσιμες ενέργειες που μπορεί να κάνει ένας χρήστης αλλά και κάποιες παραπάνω. Επίσης υπάρχει αναγνωριστικό στο επάνω μέρος της σελίδας οτι πρόκειται για λογαριασμό διαχειριστή. Ας δούμε όμως τις έξτρα λειτουργίες που μπορεί να κάνει ο διαχειριστής:

1. **Movie actions:** Εδώ ο διαχειριστής μπορεί να επιλέξει κάποια απο τις δράσεις που σχετίζονται με τις ταινίες:
    - Add a movie
    - Remove a movie
    - Update movie deatails
    
2. **Users actions:** Εδώ ο διαχειριστής μπορεί να επιλέξει κάποια απο τις δράσεις που σχετίζονται με τους χρήστες:
    - Promote user
    - Remove a user
    
3. **Remove comments**

Πιο αναλυτικά, για την 1η επιλογή:

:movie_camera: **Movie actions**

Εδώ υπάρχουν 3 επιλογές για τον διαχειριστή. Η πρώτη είναι Add a movie, η οποία οδηγεί στην σελίδα προσθήκης μιας νέας ταινίας στην βάση δεδομένων. Τα υποχρεωτικά πεδία είναι ο τίτλος και ένας πρωταγωνιστής. Στο πεδίο Lead Actors ο χρήστης μπορεί να δώσει πολλούς actors διαχωρίζοντας τους με κόμμα και χωρίς κενά (πχ Ανδρέας,Μαρία,Κώστας κλπ).

![add_movie](https://github.com/adreaskar/images/blob/master/add_movie1.jpg?raw=true)

Η δεύτερη επιλογή είναι η Remove a movie, η οποία οδηγεί στην σελίδα διαγραφής μιας ταινίας βάση του τίτλου της. Εάν υπάρχουν πολλές ταινίες με τον ίδιο τίτλο τότε διαγράφεται αυτή με την παλαιότερη ημερομηνία κυκλοφορίας.

![remove_movie](https://github.com/adreaskar/images/blob/master/remove_movie1.jpg?raw=true)

Και τέλος η τρίτη επιλογή, Update movie details δίνει στον χρήστη την δυνατότητα να επεξεργαστεί τις πληροφορίες μιας ταινίας δίνοντας στην αρχή τον τίτλο της. Μετά εμφανίζονται τα πεδία που μπορεί να επεξεργαστεί. Αντίστοιχα όπως και στην προσθήκη ταινίας, το πεδίο για τους actors μπορεί να πάρει πολλά ονόματα χωρισμένα με κόμμα.

![update_movie](https://github.com/adreaskar/images/blob/master/update_movie1.jpg?raw=true)

:bust_in_silhouette: **User actions**

Είναι οι δράσεις που μπορεί να κάνει ο διαχειριστής και αφορούν τους χρήστες. Η πρώτη είναι η Promote User, οπου συμπληρώνοντας το e-mail ενός απλού χρήστη μπορεί να τον κάνει διαχειριστή.

![promote_user](https://github.com/adreaskar/images/blob/master/promote_user1.jpg?raw=true)

Η δεύτερη είναι η Remove user όπου πολύ απλά μπορεί να αφαιρέσει έναν χρήστη απο την βάση δεδομένων βάση του e-mail του.

![remove_user](https://github.com/adreaskar/images/blob/master/remove_user1.jpg?raw=true)

:bookmark_tabs: **Remove comments**

Τέλος έχει την δυνατότηα να διαγράψει όποιο σχόλιο θέλει απο οποιονδήποτε χρήστη σε οποιαδήποτε τανία.

![remove_comment](https://github.com/adreaskar/images/blob/master/remove_comment1.jpg?raw=true)

## Πώς μπορώ να το χρησιμοποιήσω

:heavy_exclamation_mark:  ***ΠΡΟΣΟΧΗ Δεν υποστηρίζεται η λειτουργία σε περιβάλλον Windows ή MacOS αλλά μόνο Linux!***  :heavy_exclamation_mark:

:pushpin: **Κατέβασμα εφαρμογής**

Για να χρησιμοιποιήσετε την εφαρμογή πρέπει να κατεβάσετε τα αρχεία του Repository στον υπολογιστή σας. Αυτό μπορεί να γίνει εύκολα κατεβάζοντας τα ως .zip αρχείο, όπως φαίνεται παρακάτω.

![homepage](https://github.com/adreaskar/images/blob/master/download.jpg?raw=true)

:pushpin: **Εγκατάσταση docker / docker-compose**

Το εργαλείο που θα χρησιμοποιήσουμε για να τρέξουμε την εφαρμογή είναι το Docker. Για την εγκατάσταση του παραθέτω τα βήματα που έχει και στην ιστοσελίδα του.

Ανοίγουμε το terminal και τρέχουμε την παρακάτω εντολή για να διαγράψουμε τυχόν παλιές εκδόσεις του docker που μπορεί να υπάρχουν στο σύστημα μας.

```
$ sudo apt-get remove docker docker-engine docker.io containerd runc
```

Αναβάθμιση του `apt` και εγκατάσταση πακέτων:

```
$ sudo apt-get update

$ sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
```

Προσρθήκη του Docker GPG key:

```
$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

Προσθήκη του repository:

```
$ sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
```

Και τέλος αφού φτιάξαμε το repository του docker, απλά το εγκαθιστούμε:

```
$ sudo apt-get update
$ sudo apt-get install docker-ce docker-ce-cli containerd.io
```

Για την εγκατάσταση του docker-compose θα χρειαστούν οι παρακάτω δύο εντολές:

```
$ sudo curl -L "https://github.com/docker/compose/releases/download/1.26.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

$ sudo chmod +x /usr/local/bin/docker-compose
```
Και είμαστε έτοιμοι να τρέξουμε την εφαρμογή!

:pushpin: **Εκκίνηση εφαρμογής**

1. Πηγαίνουμε στο directory που κατεβάσαμε το zip στο πρώτο βήμα και το κανουμε extract.
2. Ανοίγουμε τον φάκελο _MovieFlix2020_E17067_Karabetian_Andreas_ καθώς και τον φάκελο _Project_ που έχει μέσα του.
3. Τώρα πρέπει να βλέπουμε έναν φάκελο _flask_ και ένα αρχείο _docker-compose.yml_.
4. Εδώ ανοίγουμε ένα terminal και γράφουμε την εντολή `$ sudo docker-compose up -d` για την εκκίνηση της εφαρμογής.

Το πρόγραμμα θα αρχίσει να φτιάχνει τα απαραίτητα αρχεία που χρειάζεται και θα έχει τελειώσει όταν δούμε το σχετικό μήνυμα όπως φαίνεται παρακάτω.

![success](https://github.com/adreaskar/images/blob/master/success.jpg?raw=true)

## Πλέον μπορούμε να χρησιμοποιήσουμε την εφαρμογή ανοίγοντας έναν browser και πλητρολογώντας την διεύθυνση "localhost:5000"
